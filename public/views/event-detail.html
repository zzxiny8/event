<!-- public/event_detail.html -->
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Event Detail</title>
</head>
<body>
  <h1>Event Detail</h1>
  <div id="detail-container"></div>

  <script>
    // 1. 解析 URL 中的 ?id=xxx
    const urlParams = new URLSearchParams(window.location.search);
    const eventId = urlParams.get('id');

    // 2. 发请求获取活动详情
    fetch('/api/events/' + eventId)
      .then(res => {
        if (!res.ok) throw new Error('Failed to fetch event detail');
        return res.json();
      })
      .then(event => {
        const container = document.getElementById('detail-container');
        container.innerHTML = `
          <h2>${event.title}</h2>
          <p>Date: ${new Date(event.date).toLocaleString()}</p>
          <p>Location: ${event.location}</p>
          <p>Description: ${event.description}</p>
        `;
      })
      .catch(err => {
        console.error(err);
        document.getElementById('detail-container').textContent = 'Error loading event detail.';
      });
  </script>
</body>
</html>
